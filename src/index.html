<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="topnav">
    <a class="openbtn" onclick="openNav()" href="#menu"><img src="assets/menu.png"
        style="width: 50px; height: 50px" /></a>
    <a><img src="assets/logo.png" style="width: 50px; height: 50px" /> </a>
    <a><img src="assets/shopping-cart.png" style="width: 50px; height: 50px" /></a>
    <a href="#search">Search______</a>
    <a id="loginElement" onclick="openDialog()" href="#login">log in</a>
    <a>
      <div class="userFlexBox" onclick="() => console.Log('Hello open user things')">
        <div class="userItem" id="userLogo" style="display: none">
          <img src="assets/userLOGO.png" style="width: 35px; height: 35px" />
        </div>
        <p class="userItem" id="loginName" style="display: none"></p>
      </div>
    </a>
  </div>


    <!-- sidebar -->
    <div id="mySidebar" class="sidebar">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a>
      <a href="#" onclick="showAll()">All</a>
      <a href="#" onclick="toggleWomen()">Women</a>
      <div class="cloth-category" id="womansection" style="display: none;">
        <a id="cap" onclick="showWomanCap()">Cap</a>
        <a id="coat" onclick="showWomanCoat()">Coat</a>
        <a id="pullover" onclick="showWomanPullover()">Pullover</a>
        <a id="gloves" onclick="showWomanGloves()">Gloves</a>
        <a id="trousers" onclick="showWomanTrousers()">Trousers</a>
        <a id="shoes" onclick="showWomanShoes()">Shoes</a>
      </div>

      <a href="#" onclick="toggleMan()">Men</a>
      <div class="cloth-category" id="mansection" style="display: none;">
        <a id="cap" onclick="showWomanCap()">Cap</a>
        <a id="coat" onclick="showWomanCoat()">Coat</a>
        <a id="pullover" onclick="showWomanPullover()">Pullover</a>
        <a id="gloves" onclick="showWomanGloves()">Gloves</a>
        <a id="trousers" onclick="showWomanTrousers()">Trousers</a>
        <a id="shoes" onclick="showWomanShoes()">Shoes</a>
      </div>

      <a href="#" onclick="toggleSeason()">Season</a>
        <div class="cloth-category" id="seasonsection" style="display: none;">
          <a id="winter" onclick="showAll()">Winter</a>
        </div>
    </div>


  <div>
    <div class="clothes" id="products">
      <img src="../clothes/cap1.png" id="product1" class="products-image" />
      <img src="../clothes/cap2.png" id="product2" class="products-image"/>
      <img src="../clothes/cap3.png" id="product3" class="products-image"/>
      <img src="../clothes/coat1.png" id="product4" class="products-image" />
      <img src="../clothes/coat2.png" id="product5" class="products-image" />
      <img src="../clothes/gloves1.png" id="product6" class="products-image" />
      <img src="../clothes/gloves2.png" id="product7" class="products-image" />
      <img src="../clothes/pullover1.png" id="product8" class="products-image" />
      <img src="../clothes/pullover2.png" id="product9" class="products-image" />
      <img src="../clothes/shoes1.png" id="product10" class="products-image" />
      <img src="../clothes/trousers1.png" id="product11" class="products-image" />
      <img src="../clothes/trousers2.png" id="product12"class="products-image" />
      <img src="../clothes/trousers3.png" id="product13" class="products-image" />
    </div>

    <dialog id="loginDialog">
      <p>Bei ShoppingStore einloggen</p>
      <div>
        <label for="username">Enter your username: </label>
        <input type="text" name="username" id="username" required />
        <label for="password">Enter your password: </label>
        <input type="password" name="password" id="password" required />
        <input type="submit" value="login" onclick="acceptLogin()" />
      </div>
    </dialog>
  </div>

  <script>
    function openNav() {
      document.getElementById("mySidebar").style.width = "250px";
      document.getElementById("main").style.marginLeft = "250px";
    }

    function closeNav() {
      document.getElementById("mySidebar").style.width = "0";
      document.getElementById("main").style.marginLeft = "0";
    }
    const loginDialog = document.getElementById("loginDialog");

    function openDialog() {
      loginDialog.showModal();
    }

    function acceptLogin() {
      var usernameHTML = document.getElementById("username");
      var username = usernameHTML.value;
      console.log(username);
      loginDialog.close();

      var loginElement = document.getElementById("loginElement");
      var loginName = document.getElementById("loginName");
      var loginLogo = document.getElementById("userLogo");

      loginName.innerText = username;

      loginElement.style.display = "none";
      loginName.style.display = "flex";
      loginLogo.style.display = "flex";
    }

      
      //var womansection = getElementById("womansection");
      //var mansection = getElementById("mansection");
      //var seasonsection = getElementById("seasonsection");

      function toggle(elementId){
        console.log("here");
        if(document.getElementById(elementId).style.display === "block"){
          document.getElementById(elementId).style.display = "none"
        } else {
          document.getElementById(elementId).style.display = "block"
        }
      }

      function toggleWomen(){
        toggle("womansection");
      }

      function toggleMan(){ toggle("mansection"); }
      function toggleSeason(){ toggle("seasonsection"); }

      var prefix = "product";

      function hideProducts(){
        Array(14).fill(1, 0, 13).forEach((elementId, index) => {
          document.getElementById(prefix + (index + 1)).style.visibility = 'collapse';
        });
      }

      function displayItems(idlist){
        hideProducts()
        idlist.forEach((index) => {
          document.getElementById(prefix + index).style.visibility = 'visible';
        });
        closeNav();
      }

      function showWomanCap(){ displayItems([1,2,3]); }

      function showWomanCoat(){ displayItems([4,5]); }

      function showWomanPullover(){ displayItems([8,9]); }

      function showWomanGloves(){ displayItems([6,7]); }

      function showWomanShoes(){ displayItems([10]); }
 
      function showWomanTrousers(){ displayItems([11,12,13]); }

      function showAll(){ displayItems(Array(14).fill(1, 0, 13).map((el, index) => {return index+1;})); }

    </script>
  </body>
</html>
